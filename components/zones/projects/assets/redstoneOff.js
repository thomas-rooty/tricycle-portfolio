/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/

import React, { useRef } from "react";
import { useGLTF } from "@react-three/drei";
import {useStore} from "../../../zustore";
import {useFrame} from "@react-three/fiber";

const RedstoneOn = (props) => {
	// Lever state
	const mcLeverPulled = useStore((state) => state.mcLeverPulled);
	const redstoneOn = useRef();

	useFrame(() => {
		redstoneOn.current.visible = mcLeverPulled;
	});

	// 3d Model
	const { nodes, materials } = useGLTF("/assets/redstone_on.gltf");
	return (
		<group {...props} scale={4} dispose={null}>
			<mesh
				ref={redstoneOn}
				geometry={nodes["New_World__42_-63_-37_to_42_319_-37"].geometry}
				material={materials.Redstone_Wire}
				rotation={[Math.PI / 2, 0, 0]}
			/>
		</group>
	);
}

const RedstoneOff = (props) => {
	// Lever state
	const mcLeverPulled = useStore((state) => state.mcLeverPulled);
	const redstoneOff = useRef();

	useFrame(() => {
		redstoneOff.current.visible = !mcLeverPulled;
	});

	// 3d Model
	const { nodes, materials } = useGLTF("/assets/redstone_off.gltf");
	return (
		<group {...props} scale={4} dispose={null}>
			<mesh
				ref={redstoneOff}
				geometry={nodes["New_World__38_-63_-37_to_38_319_-37"].geometry}
				material={materials.Redstone_Wire}
				rotation={[Math.PI / 2, 0, 0]}
			/>
		</group>
	);
}

useGLTF.preload("/redstone_off.gltf");
useGLTF.preload("/redstone_on.gltf");

export { RedstoneOn, RedstoneOff };